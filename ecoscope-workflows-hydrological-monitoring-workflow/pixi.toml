# AUTOGENERATED BY ECOSCOPE-WORKFLOWS; see fingerprint in README.md for details

[workspace]
name = "ecoscope-workflows-hydrological-monitoring-workflow"
channels = [
    "file:///tmp/ecoscope-workflows-custom/release/artifacts/",
    "https://repo.prefix.dev/ecoscope-workflows-custom/",
    "https://repo.prefix.dev/ecoscope-workflows/",
    "conda-forge",
    "microsoft",
]
platforms = [
    "linux-64",
    "linux-aarch64",
    "osx-arm64",
    "win-64",
    "osx-64",
]

[system-requirements]
linux = "4.4.0"

[dependencies.ecoscope-workflows-core]
version = ">=0.22.2,<0.23"
channel = "https://repo.prefix.dev/ecoscope-workflows/"

[dependencies.ecoscope-workflows-ext-ecoscope]
version = ">=0.22.2,<0.23"
channel = "https://repo.prefix.dev/ecoscope-workflows/"

[dependencies.ecoscope-workflows-ext-custom]
version = "*"
channel = "file:///tmp/ecoscope-workflows-custom/release/artifacts/"

[dependencies.pydeck]
version = "==0.0.2"
channel = "https://repo.prefix.dev/ecoscope-workflows-custom/"

[feature.runner.dependencies.ecoscope-workflows-runner]
version = ">=0.22.2,<0.23"
channel = "https://repo.prefix.dev/ecoscope-workflows/"

[feature.runner.tasks]

[feature.test.dependencies.pandas]
version = "*"
channel = "https://conda.anaconda.org/conda-forge/"

[feature.test.dependencies.pyarrow]
version = "*"
channel = "https://conda.anaconda.org/conda-forge/"

[feature.test.dependencies.pytest]
version = "*"
channel = "https://conda.anaconda.org/conda-forge/"

[feature.test.dependencies.pytest-asyncio]
version = "*"
channel = "https://conda.anaconda.org/conda-forge/"

[feature.test.dependencies.pytest-check]
version = "*"
channel = "https://conda.anaconda.org/conda-forge/"

[feature.test.dependencies.pillow]
version = "*"
channel = "https://conda.anaconda.org/conda-forge/"

[feature.test.dependencies.scikit-image]
version = "*"
channel = "https://conda.anaconda.org/conda-forge/"

[feature.test.dependencies.syrupy]
version = "*"
channel = "https://conda.anaconda.org/conda-forge/"

[feature.test.dependencies.playwright]
version = ">=1.52.0"
channel = "https://conda.anaconda.org/microsoft/"

[feature.test.tasks]
test-all = "python -m pytest -v tests"
playwright-install = "playwright install --with-deps chromium"

[feature.test.tasks.test-app-metadata]
cmd = "python -m pytest -v tests/test_metadata.py"

[feature.test.tasks.test-app-async-mock-io]
cmd = "python -m pytest -v tests/test_results.py -k 'app and async and mock-io'"
depends-on = [
    "playwright-install",
]

[feature.test.tasks.test-app-sequential-mock-io]
cmd = "python -m pytest -v tests/test_results.py -k 'app and sequential and mock-io'"
depends-on = [
    "playwright-install",
]

[feature.test.tasks.test-cli-async-mock-io]
cmd = "python -m pytest -v tests/test_results.py -k 'cli and async and mock-io'"
depends-on = [
    "playwright-install",
]

[feature.test.tasks.test-cli-sequential-mock-io]
cmd = "python -m pytest -v tests/test_results.py -k 'cli and sequential and mock-io'"
depends-on = [
    "playwright-install",
]

[environments.default]
features = []
solve-group = "default"
no-default-feature = false

[environments.runner]
features = [
    "runner",
]
solve-group = "runner"
no-default-feature = true

[environments.test]
features = [
    "runner",
    "test",
]
solve-group = "test"
no-default-feature = true

[tasks]
docker-build = "mkdir -p .tmp/ecoscope-workflows/release/artifacts/\n&& cp -r /tmp/ecoscope-workflows/release/artifacts/* .tmp/ecoscope-workflows/release/artifacts/\n&& docker buildx build -t ecoscope-workflows-hydrological-monitoring-workflow .\n"
ecoscope-workflows-hydrological-monitoring-workflow = "python -m ecoscope_workflows_hydrological_monitoring_workflow.cli"
